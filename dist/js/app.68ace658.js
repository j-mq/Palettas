(function(t){function e(e){for(var o,c,l=e[0],s=e[1],i=e[2],g=0,d=[];g<l.length;g++)c=l[g],Object.prototype.hasOwnProperty.call(n,c)&&n[c]&&d.push(n[c][0]),n[c]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o]);u&&u(e);while(d.length)d.shift()();return a.push.apply(a,i||[]),r()}function r(){for(var t,e=0;e<a.length;e++){for(var r=a[e],o=!0,l=1;l<r.length;l++){var s=r[l];0!==n[s]&&(o=!1)}o&&(a.splice(e--,1),t=c(c.s=r[0]))}return t}var o={},n={app:0},a=[];function c(e){if(o[e])return o[e].exports;var r=o[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=t,c.c=o,c.d=function(t,e,r){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)c.d(r,o,function(e){return t[e]}.bind(null,o));return r},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/Palettas/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=e,l=l.slice();for(var i=0;i<l.length;i++)e(l[i]);var u=s;a.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"07ca":function(t,e,r){"use strict";r("9fdf")},"0abc":function(t,e,r){"use strict";r("3a84")},"15b2":function(t,e,r){},"249d":function(t,e,r){"use strict";r("15b2")},"3a84":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);var o=r("7a23");const n={class:"container"},a={class:"layoutContainer"},c={class:"colorSwatchList"};function l(t,e,r,l,s,i){const u=Object(o["l"])("ColorSampling"),g=Object(o["l"])("ColorSwatch");return Object(o["h"])(),Object(o["d"])("div",n,[Object(o["e"])("div",a,[Object(o["f"])(u,{onExtractedColors:i.onExtractColors},null,8,["onExtractedColors"]),Object(o["e"])("div",c,[(Object(o["h"])(!0),Object(o["d"])(o["a"],null,Object(o["k"])(s.colors,t=>(Object(o["h"])(),Object(o["c"])(g,{key:t.id,color:t.color,onDeleteColor:e=>i.onDeleteColor(t.id)},null,8,["color","onDeleteColor"]))),128))])])])}const s={class:"colorSampling"},i={class:"fa-solid fa-image"};function u(t,e,r,n,a,c){return Object(o["h"])(),Object(o["d"])("div",s,[Object(o["e"])("div",{class:"dropZone",style:Object(o["g"])({background:a.isDraggingOver?"#cccccc":"none"}),onDrop:e[0]||(e[0]=(...t)=>c.onDrop&&c.onDrop(...t)),onDragover:e[1]||(e[1]=(...t)=>c.onDragOver&&c.onDragOver(...t)),onDragleave:e[2]||(e[2]=(...t)=>c.onDragLeave&&c.onDragLeave(...t))},[Object(o["n"])(Object(o["e"])("i",i,null,512),[[o["m"],0==a.extractedColors.length]]),Object(o["e"])("canvas",{id:"canvas",style:Object(o["g"])({display:0==a.extractedColors.length?"none":"flex"})},null,4)],36)])}r("13d5");var g={name:"ColorSampling",props:{},emits:["extracted-colors"],data(){return{isDraggingOver:!1,extractedColors:[]}},computed:{},methods:{onChange(t){t.target.files&&console.log("file",t.target.files[0])},onDrop(t){if(t.preventDefault(),t.stopPropagation(),this.isDraggingOver=!1,t.dataTransfer.items){for(let e=0;e<t.dataTransfer.items.length;e++)if("file"===t.dataTransfer.items[e].kind){const r=t.dataTransfer.items[e].getAsFile();r&&this.importFile(r)}}else t.dataTransfer.files[0]&&this.importFile(t.dataTransfer.files[0])},onDragOver(t){t.preventDefault(),t.stopPropagation(),this.isDraggingOver=!0},onDragLeave(){this.isDraggingOver=!1},importFile(t){const e=new Image;e.onload=()=>{const t=document.getElementById("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0);const o=r.getImageData(0,0,t.width,t.height),n=this.getRGB(o.data),a=this.quantization(n,0);this.extractedColors=a,this.$emit("extracted-colors",a)},e.src=URL.createObjectURL(t)},getRGB(t){const e=[];for(let r=0;r<t.length;r+=4){const o={r:t[r],g:t[r+1],b:t[r+2]};e.push(o)}return e},quantization(t,e){const r=6;if(e===r||0===t.length){const e=t.reduce((t,e)=>(t.r+=e.r,t.g+=e.g,t.b+=e.b,t),{r:0,g:0,b:0});return e.r=Math.round(e.r/t.length),e.g=Math.round(e.g/t.length),e.b=Math.round(e.b/t.length),[e]}const o=this.findBiggestColorRange(t);t.sort((t,e)=>t[o]-e[o]);const n=t.length/2;return[...this.quantization(t.slice(0,n),e+1),...this.quantization(t.slice(n+1),e+1)]},findBiggestColorRange(t){let e=Number.MAX_VALUE,r=Number.MAX_VALUE,o=Number.MAX_VALUE,n=Number.MIN_VALUE,a=Number.MIN_VALUE,c=Number.MIN_VALUE;t.forEach(t=>{e=Math.min(e,t.r),r=Math.min(r,t.g),o=Math.min(o,t.b),n=Math.max(n,t.r),a=Math.max(a,t.g),c=Math.max(c,t.b)});const l=n-e,s=a-r,i=c-o,u=Math.max(l,s,i);return u===l?"r":u===s?"g":"b"}}},d=(r("249d"),r("6b0d")),b=r.n(d);const h=b()(g,[["render",u],["__scopeId","data-v-5fd78ed5"]]);var f=h;const p=t=>(Object(o["j"])("data-v-736d67e7"),t=t(),Object(o["i"])(),t),O={class:"colorSwatches"},v=["color"],m=p(()=>Object(o["e"])("i",{class:"fa-solid fa-square-xmark"},null,-1)),j=[m],x=["color"];function k(t,e,r,n,a,c){return Object(o["h"])(),Object(o["d"])("div",O,[(Object(o["h"])(!0),Object(o["d"])(o["a"],null,Object(o["k"])(a.lightScales,(t,e)=>(Object(o["h"])(),Object(o["d"])("div",{key:`${t}-${e}-light`,class:"colorShade",color:r.color.color,style:Object(o["g"])({background:t})},null,12,v))),128)),Object(o["e"])("div",{class:"mainColor",style:Object(o["g"])({background:r.color})},[Object(o["e"])("button",{class:"editButton",style:Object(o["g"])({color:c.buttonColor}),onClick:e[0]||(e[0]=(...t)=>c.onDelete&&c.onDelete(...t))},j,4)],4),(Object(o["h"])(!0),Object(o["d"])(o["a"],null,Object(o["k"])(a.darkScales,(t,e)=>(Object(o["h"])(),Object(o["d"])("div",{key:`${t}-${e}-dark`,class:"colorShade",color:r.color.color,style:Object(o["g"])({background:t})},null,12,x))),128))])}const y=t=>{const e=t.replace("rgb(","").replace(")","").split(",");return{r:parseInt(e[0]),g:parseInt(e[1]),b:parseInt(e[2])}},M=t=>{let e,r,o;return 4==t.length?(e="0x"+t[1]+t[1],r="0x"+t[2]+t[2],o="0x"+t[3]+t[3]):7==t.length&&(e="0x"+t[1]+t[2],r="0x"+t[3]+t[4],o="0x"+t[5]+t[6]),e&&r&&o?{r:e,g:r,b:o}:null},S=(t,e,r)=>{t/=255,e/=255,r/=255;var o,n,a=Math.max(t,e,r),c=Math.min(t,e,r),l=a,s=a-c;if(n=0==a?0:s/a,a==c)o=0;else{switch(a){case t:o=(e-r)/s+(e<r?6:0);break;case e:o=(r-t)/s+2;break;case r:o=(t-e)/s+4;break}o/=6}return{h:o,s:n,v:l}};function C(t,e,r){var o,n,a,c=Math.floor(6*t),l=6*t-c,s=r*(1-e),i=r*(1-l*e),u=r*(1-(1-l)*e);switch(c%6){case 0:o=r,n=u,a=s;break;case 1:o=i,n=r,a=s;break;case 2:o=s,n=r,a=u;break;case 3:o=s,n=i,a=r;break;case 4:o=u,n=s,a=r;break;case 5:o=r,n=s,a=i;break}const g=Math.round(255*o),d=Math.round(255*n),b=Math.round(255*a);return{r:g,g:d,b:b}}function D(t,e,r){return t=t.toString(16),e=e.toString(16),r=r.toString(16),1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==r.length&&(r="0"+r),"#"+t+e+r}const w=(t,e,r,o)=>{const n=M(t)||y(t),a=S(n.r,n.g,n.b),c=r/100,l=o/100,s=e/360,i=a.h+s,u={h:i>1?i-1:i<0?1+i:i,s:c||0===c?c:a.s,v:l||0===l?l:a.v},g=C(u.h,u.s,u.v),d=D(g.r,g.g,g.b);return{hex:d,rgb:g}},$=t=>{const{r:e,g:r,b:o}=y(t),n=S(e,r,o),a=5,c=2,l=_(t,n,c),s=E(t,n,a);return{lightScales:l,darkScales:s}},_=(t,e,r)=>{const o=15,n=-15,a=10,c=[];for(let l=r;l>=1;l-=1)c.push(w(t,I(e.h,o,!0),L(100*e.s,n*l),L(100*e.v,a*l)).rgb);return c},E=(t,e,r)=>{const o=15,n=15,a=-10,c=[];for(let l=1;l<=r;l+=1)c.push(w(t,I(e.h,o),L(100*e.s,n*l),L(100*e.v,a*l)).rgb);return c},I=(t,e,r)=>{const o=240;console.log("is light",r);const n=60,a=Math.round(t);if(r){const t=a>n&&a<o?a+e:a-e;return t>360?t-360:t<0?360+t:t}const c=a<o&&a>n?a+e:a-e;return c>360?c-360:c<0?360+c:c},L=(t,e)=>{const r=Math.floor(t+e);return r>100?100:r<0?0:r};var A={name:"ColorSwatch",props:{color:{type:String,default:"rgb(0, 0, 0)"}},emits:["delete-color"],data(){return{lightScales:$(this.color).lightScales.map(t=>`rgb(${t.r}, ${t.g}, ${t.b})`),darkScales:$(this.color).darkScales.map(t=>`rgb(${t.r}, ${t.g}, ${t.b})`)}},computed:{buttonColor(){const{r:t,g:e,b:r}=y(this.color),o=S(t,e,r);return o.v<.8?"#ffffff":"#808080"}},methods:{onDelete(){this.$emit("delete-color")}}};r("07ca");const P=b()(A,[["render",k],["__scopeId","data-v-736d67e7"]]);var N=P,T={name:"App",components:{ColorSampling:f,ColorSwatch:N},data(){return{colors:[{id:"default",color:"rgb(128, 128, 128)"}]}},methods:{onExtractColors(t){let e=[];t.forEach(t=>{const r=e.filter(e=>{const r=10;return t.r===e.r&&t.g===e.g&&t.b===e.b||t.r<=e.r+r&&t.r>=e.r-r&&t.g<=e.g+r&&t.g>=e.g-r&&t.b<=e.b+r&&t.b>=e.b-r});0===r.length&&e.push(t)});const r=e.map(t=>({id:`${t.r}-${t.g}-${t.b})-extracted`,color:`rgb(${t.r}, ${t.g}, ${t.b})`}));this.colors=[...r]},onDeleteColor(t){const e=this.colors.filter(e=>e.id!==t);this.colors=[...e]}}};r("0abc");const U=b()(T,[["render",l]]);var B=U;Object(o["b"])(B).mount("#app")},"9fdf":function(t,e,r){}});
//# sourceMappingURL=app.68ace658.js.map